import matplotlib.pyplot as plt


colors = ['#0055AA', '#CC0022', '#DDB800']

#x = range(100, 2100, 100)
#x = range(100, 1600, 100)
#x = range(50, 650, 50)

# model-free
#label1 = 'model-free'
#y1 = [77.129999999999995, 151.28600000000003, 205.85999999999996, 267.59600000000006, 303.50800000000004, 330.27399999999994, 368.93799999999987, 376.66399999999999, 406.69599999999997, 414.08200000000005, 431.11600000000004, 441.57800000000003, 458.23399999999992, 453.32599999999991, 461.30599999999998, 475.26199999999994, 467.084, 461.50999999999993, 468.12799999999993, 463.42200000000014]
#y1 = [94.569999999999993, 182.49000000000004, 238.02600000000007, 288.154, 332.45999999999992, 363.51999999999998, 381.92199999999991, 415.01600000000008, 402.35799999999995, 410.3180000000001, 421.06200000000007, 432.39800000000002, 437.45000000000016, 446.30399999999986, 472.63999999999999, 463.96199999999999, 466.80199999999996, 467.24400000000009, 469.09799999999996, 456.62]
#e1 = [4.5724019053090119, 6.4361950034511048, 8.6429921170098183, 10.117515711046131, 11.395702018296015, 10.080921564610884, 9.9710357229204174, 8.2522028524732338, 11.205381757286567, 12.905001621741196, 13.528764484970381, 12.555280047104661, 12.072570106633957, 10.278477994214462, 7.0721523439127214, 8.0250011838005335, 8.5123446924607844, 9.311474229493987, 8.698152508505725, 13.190799205259299]
#y1 = [83.467999999999989, 166.21399999999994, 221.02599999999998, 271.3540000000001, 323.96999999999991, 351.64400000000001, 381.06599999999997, 391.20999999999998, 422.86999999999983, 427.69200000000006, 455.03599999999989, 457.58600000000001, 454.45599999999996, 461.33799999999997, 470.62200000000007, 470.4199999999999, 466.56200000000007, 475.0379999999999, 470.78799999999995, 478.14999999999998]
#e1 = [5.4338706766551095, 7.486388197582194, 7.6382158457405778, 10.388534971647488, 10.068107355123189, 12.007061582116361, 11.86045688970931, 12.235099475838906, 9.4562806037650358, 9.9878877013457625, 7.0223286794077548, 6.9341238488377472, 10.172985097596396, 9.7456999999895277, 6.3418134855665915, 7.5971536023133561, 9.490889246739604, 8.8358005031016944, 9.2182722893175573, 8.2963351879622458]

# 100 instances
#y1 = [87.591999999999985, 154.75000000000006, 225.10299999999998, 264.74700000000001, 311.23699999999997, 335.15399999999994, 365.96300000000002, 389.76099999999997, 399.86200000000002, 416.48899999999992, 431.80600000000015, 450.88599999999991, 450.983, 454.36699999999985, 455.00699999999989, 459.30799999999994, 452.41300000000018, 459.28400000000011, 458.95100000000008, 471.15399999999994]
#e1 = [3.5863255104168479, 4.7342554586201562, 5.8751946376526991, 6.8393504114429646, 7.0718589636686202, 8.5069359010305483, 7.9736346673321332, 7.3820203217210807, 8.5019132463513696, 7.7929678083915039, 7.0497818319993346, 6.178992435272237, 6.7404816623446164, 5.8537878706307254, 7.2058153079665646, 6.9721258413395519, 7.950613044783327, 7.6803857121155534, 8.2547391340803262, 6.6853988979149461]

# model-based
#label2 = 'with model'
#y2 = [69.307999999999979, 140.18199999999999, 203.90000000000001, 265.41399999999999, 325.84800000000001, 361.42200000000014, 400.62000000000006, 429.23400000000009, 456.35400000000004, 454.73400000000009, 464.8599999999999, 451.06200000000007, 471.38799999999986, 490.08999999999992, 481.52999999999992, 478.82200000000006, 482.12200000000018, 476.6099999999999, 481.30800000000005, 484.226]
#y2 = [69.954000000000008, 147.37399999999997, 204.24400000000003, 260.63599999999997, 315.34800000000001, 358.77799999999996, 384.29000000000008, 412.46799999999996, 441.83399999999995, 449.31400000000002, 471.73799999999994, 468.50400000000008, 482.4740000000001, 480.26599999999996, 471.07999999999998, 477.084, 480.74400000000009, 478.86999999999995, 475.89200000000017, 479.69600000000008]
#e2 =  [4.172161589216147, 7.0449749409325335, 6.6956215727068953, 8.1026313488588499, 11.062093849110601, 11.078838180448859, 11.182584218145569, 10.134967732497993, 8.0468016767216159, 7.5668363486024086, 8.0140737888964768, 6.8175224178852059, 4.1433505223454636, 7.5179668386974834, 10.116193928144948, 8.3865053703274182, 7.0456715095445777, 7.9334112641230421, 7.4500737374792205, 8.3179299622648255]
#y2 = [69.296000000000006, 145.43999999999997, 205.54400000000001, 258.98800000000006, 304.85400000000004, 366.88199999999989, 407.21600000000007, 430.41000000000003, 445.37800000000004, 455.94999999999999, 462.68599999999998, 468.56199999999984, 465.61599999999999, 472.49599999999992, 487.00800000000004, 488.07000000000005, 488.68799999999993, 489.59399999999994, 486.36600000000004, 470.78600000000006]
#e2 = [3.2649317397621234, 5.9491580608228123, 7.0613516425970575, 7.4194975571126109, 9.7310452948597579, 9.4727155729775099, 7.5435786235035431, 9.5523008233832414, 9.277483952548554, 8.6230442325628065, 6.7084460988536296, 6.1824649268255909, 8.3957517731728277, 8.5473662061025859, 4.117802901389755, 4.5685430625403676, 4.3485466866200584, 5.7337087118057157, 7.5882861445945036, 11.650781881443823]

# 100 instances
#y2 = [65.567000000000007, 136.08799999999999, 192.56600000000006, 267.48900000000003, 307.02299999999997, 360.55099999999999, 400.40699999999958, 429.142, 449.58900000000023, 449.85299999999995, 461.68200000000013, 469.40499999999986, 468.45599999999996, 471.90800000000013, 483.20000000000005, 473.55599999999976, 480.92200000000014, 474.42400000000009, 481.42899999999992, 485.92800000000005]
#e2 = [2.4401043424452573, 4.1816965963879333, 5.1350705875765659, 6.2192858882347526, 6.8191644464314507, 7.3731513341284112, 6.559808640809611, 6.8113276387221449, 5.2529102842658046, 6.9130701061778099, 5.2614553004646796, 5.7037144330105933, 5.7404149922133936, 5.2312600950266432, 4.116661391236959, 6.110054525372937, 5.6034353784445488, 7.2495770855403761, 5.6397056114515767, 4.7372250497223813]

# different gradients
#y1 = [101.87, 168.69999999999999, 203.46999999999997, 272.05000000000007, 314.82000000000005, 330.40999999999997, 355.40999999999997, 418.93000000000001, 378.51000000000005, 429.62, 441.63, 383.63, 427.41000000000003, 437.28999999999996, 461.63999999999999]
#e1 = [12.538430257944308, 13.351762264044233, 15.930020924865937, 28.557840915898691, 28.242898025678755, 24.695183740964552, 28.247050780174863, 26.308385017370835, 27.995104532360251, 34.288831353015745, 27.239077525577926, 32.085479755040453, 29.767444745336583, 29.649078868959442, 15.414403077064719]
#y2 = [99.149999999999991, 160.65000000000001, 235.00999999999999, 253.38999999999996, 321.18000000000001, 404.61000000000001, 429.38999999999999, 425.01000000000005, 459.14999999999998, 440.23000000000002, 452.71000000000004, 473.96000000000004, 484.93000000000001, 485.88, 431.46000000000004]
#e2 = [9.1259611365963327, 9.8413667749962439, 21.019384968272607, 18.896498499869111, 16.524176227576366, 22.159083665370481, 13.629049449205505, 23.036625186862764, 12.035052970386126, 16.674798349605307, 21.814650785398534, 8.1106130745119671, 6.5634349069506115, 5.4564294389483523, 33.716537979652259]
#y3 = [85.179999999999993, 146.44, 214.59999999999999, 286.35000000000002, 303.59000000000003, 360.25999999999999, 382.35999999999996, 396.75, 441.10000000000002, 456.39999999999998, 468.84000000000003, 418.81999999999999, 395.75, 412.25999999999993, 443.28999999999996]
#e3 = [15.339779804301115, 19.486161471384989, 10.432151157732413, 17.998143422771879, 24.118501197213725, 29.232596722000448, 29.209702345472657, 32.343439142360161, 24.827695109382269, 10.415351917028804, 13.890533947020657, 30.884151994905814, 31.644705542774275, 25.038664323623795, 33.941726041358983]

#label1 = 'correct derivation'
#y1 = [55.533333333333324, 93.366666666666617, 125.58666666666664, 168.34333333333331, 171.18666666666664, 207.66, 234.12666666666669, 252.33666666666667, 272.50000000000006, 302.81999999999999, 319.78666666666669, 335.53666666666663]
#e1 = [4.2276901476662561, 6.3998676949926043, 8.7449831047244277, 7.160995376989991, 6.6728575852096839, 9.5740172809825097, 9.4662327082014937, 12.510058925900466, 9.8485065090992414, 11.238232568529975, 12.495806867586849, 14.613409432745053]
#label2 = 'wrong derivation'
#y2 = [51.833333333333321, 79.306666666666672, 121.8866666666667, 155.64666666666665, 194.11666666666665, 229.69333333333341, 246.23333333333332, 274.14000000000004, 300.51666666666665, 304.41999999999996, 324.80333333333328, 356.91333333333336]
#e2 = [3.345112520944217, 6.4566475293303478, 8.7442430760575309, 8.8699605842576048, 11.322873892262363, 11.781693312848015, 10.995732017713236, 12.733136786110215, 12.05953820367197, 12.371114297649878, 14.190891107377857, 15.261600625093253]
#label3 = 'without derivation'
#y3 = [46.459999999999994, 77.893333333333302, 115.05999999999999, 157.41333333333333, 194.43333333333328, 217.84999999999997, 253.42999999999998, 274.54666666666668, 286.21333333333337, 311.58333333333331, 311.48666666666668, 340.47666666666663]
#e3 = [3.5278615189023119, 5.8650727981162412, 7.8756843891627062, 6.8689819776995824, 10.397652623387087, 10.977166217240201, 11.795399600019405, 11.61649613160005, 11.871612749413227, 11.947242343606252, 12.249166739976838, 14.435331562454937]
#label4 = 'super-correct derivation'
#y4 = [56.973333333333336, 96.100000000000009, 131.84000000000003, 152.85333333333332, 195.18333333333337, 214.28999999999999, 253.89666666666668, 272.19333333333338, 278.47333333333336, 311.94999999999993, 339.51333333333332, 317.68666666666667]
#e4 = [4.5768506296168061, 7.0112782706512045, 8.3128367704661326, 8.7237721638224563, 11.68330972172012, 10.197534466497393, 10.735285554595059, 10.209424239153702, 12.239009550991945, 12.179331229398528, 12.479875969518261, 14.782777128024973]

x = range(100, 2100, 100)
label1 = 'wolframalpha'
y1 = [67.769999999999996, 133.702, 191.64680000000004, 253.8296, 295.31440000000015, 337.1955999999999, 382.73040000000003, 409.65560000000005, 431.41000000000008, 456.33880000000005, 456.81760000000003, 477.16359999999992, 470.14959999999996, 467.95880000000005, 464.15559999999988, 460.79440000000011, 481.00640000000004, 486.94120000000009, 494.17680000000001, 493.6832]
e1 = [3.3068690537690646, 3.8671640930336766, 5.0487421301887521, 6.7593986748611199, 8.5826256967082024, 10.276758327767903, 8.4832379694144091, 8.9918381910417828, 8.5643601760137216, 4.7010528185998197, 6.8230897457359694, 2.4913998484582836, 6.3674586796893315, 7.9923620561082167, 8.6798608338321799, 10.551919543565408, 5.6250196898340192, 3.875150279008281, 0.77268709193360829, 1.165579734531714]
label2 = 'pg-pong'
y2 = [68.852799999999988, 142.44359999999998, 202.58720000000002, 261.29000000000002, 313.69919999999991, 349.04200000000003, 402.03239999999988, 411.15319999999991, 440.37680000000006, 463.61400000000015, 460.53000000000014, 470.92519999999996, 463.14239999999995, 467.62439999999981, 480.77679999999992, 490.87680000000006, 485.76839999999999, 488.49559999999991, 488.16439999999989, 491.86919999999992]
e2 = [3.3470105460099826, 4.8665212212354216, 6.1139790513216514, 6.9931751277475485, 8.5323986810418617, 10.364785314334538, 9.2695407435716408, 10.415537085076901, 8.5959571961213843, 5.8031749016185525, 7.8522808073547026, 6.8868175241855045, 9.3642386641947581, 9.8375077861027727, 6.7755698333446919, 2.5928192431704722, 6.6899759821416902, 4.4906939162890973, 4.5610935061939806, 4.118746399732097]
label3 = 'most-used'
y3 = [68.950399999999988, 140.39320000000001, 193.21000000000001, 249.89840000000007, 306.19160000000005, 349.54119999999995, 376.89080000000001, 417.36319999999984, 423.35359999999991, 438.83759999999995, 440.37600000000003, 451.60599999999999, 465.01920000000007, 469.15880000000021, 481.00879999999978, 483.24519999999995, 482.68559999999997, 483.81600000000014, 481.37599999999998, 487.55440000000004]
e3 = [3.166036097103643, 4.4104719025593289, 5.3182529968755246, 7.2416476158850118, 9.5549228784465452, 10.144658743981323, 11.638870612297222, 8.093793023379467, 9.5805042761062307, 10.276110796743035, 10.897418215114167, 10.593941298916942, 8.60786431043954, 7.0163417041495189, 5.2037894562814628, 5.4311188552260417, 6.7810857005620679, 7.6333154216585744, 8.1538113386893354, 5.6149710389425218]




#plt.title('PG training on cart pole problem with and without multi-task')
plt.plot(x, y1, color=colors[0], label=label1)
plt.plot(x, y2, color=colors[1], label=label2)
plt.plot(x, y3, color=colors[2], label=label3)
#plt.plot(x, y4, color='black', label=label4)
plt.errorbar(x, y1, e1, color=colors[0])
plt.errorbar(x, y2, e2, color=colors[1])
plt.errorbar(x, y3, e3, color=colors[2])
#plt.errorbar(x, y4, e4, color='black')
plt.xlabel('trained episodes')
plt.ylabel('balanced timesteps')
plt.legend(loc=4)
plt.show()
